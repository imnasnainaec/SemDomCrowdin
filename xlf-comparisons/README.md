# XLF Comparisons Folder

This folder contains comparison results showing translations that have changed between two XLF file versions.

## File Format

**Format:** Tab-separated values (TSV, UTF-8 encoded)

**Extension:** `.tsv`

**Naming Convention:** `<file1_name>_vs_<file2_name>_<type>.tsv` (default)

## Source

Files in this folder are generated by the `compare_xlf.py` script when comparing two XLF files from `crowdin-downloads/`.

## Purpose

These comparison files help track translation changes over time by:

- Identifying which semantic domains have new or updated translations
- Showing content changes between file versions
- Optionally showing state changes (e.g., "needs-translation" â†’ "translated") when using the `-s` flag
- Comparing before/after versions to understand what changed
- Reviewing translation progress between Crowdin downloads

## File Contents

Each comparison file is a TSV with a header row and columns that vary by comparison type and whether the `-s` flag was used.

### Names Comparison (`*_names.tsv`)

**Without `-s` flag (content changes only):**

Columns:

1. **Abbr** - Semantic domain abbreviation (e.g., "1.1")
2. **Name Source** - Source (English) name text
3. **Content Before** - Target content in first file
4. **Content After** - Target content in second file

**With `-s` flag (content and state changes):**

Columns:

1. **Abbr** - Semantic domain abbreviation (e.g., "1.1")
2. **Name Source** - Source (English) name text
3. **State Before** - Target state in first file (e.g., "needs-translation", "translated")
4. **State After** - Target state in second file
5. **Content Before** - Target content in first file
6. **Content After** - Target content in second file

### Descriptions Comparison (`*_descriptions.tsv`)

**Without `-s` flag (content changes only):**

Columns:

1. **Abbr** - Semantic domain abbreviation (e.g., "1.1")
2. **Name Source** - Source (English) name text (for context)
3. **Desc Source** - Source (English) description text
4. **Content Before** - Target content in first file
5. **Content After** - Target content in second file

**With `-s` flag (content and state changes):**

Columns:

1. **Abbr** - Semantic domain abbreviation (e.g., "1.1")
2. **Name Source** - Source (English) name text (for context)
3. **Desc Source** - Source (English) description text
4. **State Before** - Target state in first file
5. **State After** - Target state in second file
6. **Content Before** - Target content in first file
7. **Content After** - Target content in second file

Only entries where the target content has changed (or state has changed when using `-s`) are included in the output.

## Usage

Files are automatically created when running:

```bash
# Compare content changes only (no state columns)
python compare_xlf.py -n crowdin-downloads/SemanticDomains.pt-BR_old.xlf crowdin-downloads/SemanticDomains.pt-BR_new.xlf

# Compare content AND state changes (includes state columns)
python compare_xlf.py -n -s crowdin-downloads/SemanticDomains.pt-BR_old.xlf crowdin-downloads/SemanticDomains.pt-BR_new.xlf
```

Output will be saved to `xlf-comparisons/SemanticDomains.pt-BR_old_vs_SemanticDomains.pt-BR_new_names.tsv` by default.

You can specify a custom output location:

```bash
python compare_xlf.py -d file1.xlf file2.xlf custom_comparison.tsv
```

See the main [README](../README.md) for more details.
